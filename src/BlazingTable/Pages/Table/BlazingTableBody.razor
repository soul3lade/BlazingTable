@typeparam T

<tbody class="blazingtable-body">
    @CreateTableBody()
</tbody>


@code {

    [Parameter] public List<T> TableData { get; set; }

    [Parameter] public int ActivePage { get; set; }

    [Parameter] public int PageSize { get; set; }

    private RenderFragment CreateTableBody()
    {
        if(TableData.Count() <= 0)
        {
            RenderFragment emptyData;

            emptyData = b =>
            {
                b.OpenElement(0, "div");
                b.AddAttribute(0, "class", "blazingtable-body");

                b.OpenElement(1, "span");
                b.AddAttribute(1, "class", "blazingtable-body-nodata");
                b.AddContent(1, "No Data");

                b.CloseElement();
                b.CloseElement();
            };

            return emptyData;
        }

        var startingIndex = PageSize * (ActivePage - 1);
        var endingIndex = ActivePage * PageSize;

        if (endingIndex > TableData.Count())
            endingIndex = TableData.Count();

        RenderFragment tableData;

        tableData = b =>
        {
            for (int i = startingIndex; i < endingIndex; i++)
            {
                b.OpenElement(0, "tr");

                foreach (var prop in TableData[i].GetType().GetProperties())
                {
                    b.OpenElement(1, "td");
                    b.AddContent(1, prop.GetValue(TableData[i]));
                    b.CloseElement();
                }

                b.CloseElement();
            }
        };

        return tableData;
    }

}
